<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/head :: head"></head>

<body>

    <nav th:replace="/fragments/navbar :: nav"></nav>
  
  <header>
      <h1 style="margin-top:80px; text-align:center;"><span th:text="${accion}"></span> Libro</h1>
            <h2 style="margin-top:40px; text-align:center;" th:if="${accion == 'Actualizar'}">El libro se dará automaticamente de alta</h2>

  </header>
  
  <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2">
          <div class="p-5">
              
            <img class="img-fluid rounded-circle" src="img/m3.jpeg" alt="">
                    
          </div>
        </div>
        <div class="col-lg-6 order-lg-1">
          <div class="p-5">
            
            <form   enctype="multipart/form-data">
                
              <p th:if="${error != null}" th:text="${error}" style="color:red;"></p>
                
              <input type="hidden" name="id" th:value="${perfil.id}"/>
              
               <label>ISBN</label>
               <input type="number" class="form-control" name="isbn" th:value="${perfil.isbn}" th:disabled="${accion == 'Eliminar'}"/>
              
              <label>Titulo</label>
              <input type="text" class="form-control" name="titulo" th:value="${perfil.titulo}" th:disabled="${accion == 'Eliminar'}"/>

              <label>Año de Publicación</label>
               <input type="number" class="form-control" name="anio" th:value="${perfil.anio}" th:disabled="${accion == 'Eliminar'}"/>
              
               <label>Ejemplares Totales</label>
               <input type="number" class="form-control" name="ejemplares" th:value="${perfil.ejemplares}" th:disabled="${accion == 'Eliminar'}"/>
               
               <label>Ejemplares Usados</label>
               <input type="number" class="form-control" name="ejemplaresUsados" th:value="${perfil.ejemplaresUsados}" th:disabled="${accion == 'Eliminar'}"/>
               
               <label>Ejemplares Restantes</label>
               <input type="number" class="form-control" name="ejemplaresRestantes" th:value="${perfil.ejemplaresRestantes}" th:disabled="${accion == 'Eliminar'}"/>
               
               <label>Autor</label>
               <select class="form-control" name="idAutor" th:disabled="${accion == 'Eliminar'}"> 
                 <option th:each="autor : ${autores}" th:value="${autor.id}" th:text="${autor.nombre}"></option>
               </select>
               
               <label>Editorial</label>
               <select class="form-control" name="idEditorial" th:disabled="${accion == 'Eliminar'}"> 
                 <option th:each="editorial : ${editoriales}" th:value="${editorial.id}" th:text="${editorial.nombre}"></option>
               </select>
               
              <br/><button th:if="${accion == 'Crear'}" type="submit" class="btn btn-primary" formaction="/libro/crear-libro" formmethod="GET">Ingresar Libro</button>
              <br/><button th:if="${accion == 'Actualizar'}" type="submit" class="btn btn-primary" formaction="/libro/crear-libro" formmethod="GET">Actualizar Libro</button>
              <br/><button th:if="${accion == 'Eliminar'}" type="submit" class="btn btn-danger" formaction="/libro/eliminar-libro" formmethod="GET">Eliminar Libro</button>

            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
<footer th:replace="/fragments/footer :: footer"></footer>
<!-- Bootstrap core JavaScript -->
 <script th:replace="/fragments/boostjs :: script"></script>


</body>

</html>
