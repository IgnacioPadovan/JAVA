<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/head :: head"></head>

<body>

    <nav th:replace="/fragments/navbar :: nav"></nav>
  
  <header>
      <h1 style="margin-top:80px; text-align:center;"><span th:text="${accion}"></span> Prestamo</h1>
            <h2 style="margin-top:40px; text-align:center;" th:if="${accion == 'Actualizar'}">El prestamo se dará automaticamente de alta</h2>

  </header>
  
  <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2">
          <div class="p-5">
              
            <img class="img-fluid rounded-circle" src="img/m3.jpeg" alt="">
                    
          </div>
        </div>
        <div class="col-lg-6 order-lg-1">
          <div class="p-5">
            
            <form   enctype="multipart/form-data">
                
              <p th:if="${error != null}" th:text="${error}" style="color:red;"></p>
                
              <input type="hidden" name="id" th:value="${perfil.id}"/>
              
               <label>Fecha de Prestamo</label>
               <input type="date" class="form-control" name="fechaPrestamo" th:value=${perfil.fechaPrestamo} th:disabled="${accion == 'Eliminar' || accion == 'Actualizar'}"/>
              
              <label>Fecha de Devolución</label>
              <input type="date" class="form-control" name="fechaDevolucion" th:value=${perfil.fechaDevolucion} th:disabled="${accion == 'Eliminar'}"/>
              
               <label>Cliente</label>
               <select class="form-control" name="idCliente" th:disabled="${accion == 'Eliminar'}"> 
                 <option th:each="cliente : ${clientes}" th:value="${cliente.id}" th:text="${cliente.nombre}"></option>
               </select>
               
               <label>Libro</label>
               <select class="form-control" name="idLibro" th:disabled="${accion == 'Eliminar'}"> 
                 <option th:each="libro : ${libros}" th:value="${libro.id}" th:text="${libro.titulo}"></option>
               </select>
               
              <br/><button th:if="${accion == 'Crear'}" type="submit" class="btn btn-primary" formaction="/prestamo/crear-prestamo" formmethod="GET">Ingresar prestamo</button>
              <br/><button th:if="${accion == 'Actualizar'}" type="submit" class="btn btn-primary" formaction="/prestamo/crear-prestamo" formmethod="GET">Actualizar prestamo</button>
              <br/><button th:if="${accion == 'Eliminar'}" type="submit" class="btn btn-danger" formaction="/prestamo/eliminar-prestamo" formmethod="GET">Baja prestamo</button>

            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
<footer th:replace="/fragments/footer :: footer"></footer>
<!-- Bootstrap core JavaScript -->
 <script th:replace="/fragments/boostjs :: script"></script>


</body>

</html>
